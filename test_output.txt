00:00 +0: loading /home/sam/Projects/wordlearn/flutter/test/widget_test.dart                                                                                                                           00:01 +0: loading /home/sam/Projects/wordlearn/flutter/test/widget_test.dart                                                                                                                           00:02 +0: loading /home/sam/Projects/wordlearn/flutter/test/widget_test.dart                                                                                                                           00:03 +0: loading /home/sam/Projects/wordlearn/flutter/test/widget_test.dart                                                                                                                           00:04 +0: loading /home/sam/Projects/wordlearn/flutter/test/widget_test.dart                                                                                                                           00:05 +0: loading /home/sam/Projects/wordlearn/flutter/test/widget_test.dart                                                                                                                           00:05 +0: Counter increments smoke test                                                                                                                                                                00:06 +0: Counter increments smoke test                                                                                                                                                                00:07 +0: Counter increments smoke test                                                                                                                                                                00:07 +0: Counter increments smoke test                                                                                                                                                                
══╡ EXCEPTION CAUGHT BY WIDGETS LIBRARY ╞═══════════════════════════════════════════════════════════
The following _TypeError was thrown building HomeScreen(dirty, dependencies:
[_InheritedProviderScope<StatisticsRepository?>, _LocalizationsScope-[GlobalKey#1c401]], state:
_HomeScreenState#cac6f(ticker active)):
type 'Null' is not a subtype of type 'Future<int>'

The relevant error-causing widget was:
  HomeScreen HomeScreen:file:///home/sam/Projects/wordlearn/flutter/lib/main.dart:102:21

When the exception was thrown, this was the stack:
#0      MockStatisticsRepository.getTotalPoints (file:///home/sam/Projects/wordlearn/flutter/test/widget_test.dart:63:7)
#1      _HomeScreenState._buildGamificationHeader (package:word_learn_app/ui/home_screen.dart:216:25)
#2      _HomeScreenState.build (package:word_learn_app/ui/home_screen.dart:121:17)
#3      StatefulElement.build (package:flutter/src/widgets/framework.dart:5934:27)
#4      ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5820:15)
#5      StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5985:11)
#6      Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#7      ComponentElement._firstBuild (package:flutter/src/widgets/framework.dart:5802:5)
#8      StatefulElement._firstBuild (package:flutter/src/widgets/framework.dart:5976:11)
#9      ComponentElement.mount (package:flutter/src/widgets/framework.dart:5796:5)
...     Normal element mounting (260 frames)
#269    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4590:20)
#270    MultiChildRenderObjectElement.inflateWidget (package:flutter/src/widgets/framework.dart:7269:36)
#271    MultiChildRenderObjectElement.mount (package:flutter/src/widgets/framework.dart:7285:32)
...     Normal element mounting (471 frames)
#742    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:424:11)
...     Normal element mounting (7 frames)
#749    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
...     Normal element mounting (7 frames)
#756    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
...     Normal element mounting (7 frames)
#763    _NestedHookElement.mount (package:nested/nested.dart:187:11)
...     Normal element mounting (7 frames)
#770    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:424:11)
...     Normal element mounting (7 frames)
#777    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:424:11)
...     Normal element mounting (7 frames)
#784    _InheritedProviderScopeElement.mount (package:provider/src/inherited_provider.dart:424:11)
...     Normal element mounting (7 frames)
#791    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
...     Normal element mounting (7 frames)
#798    _NestedHookElement.mount (package:nested/nested.dart:187:11)
...     Normal element mounting (7 frames)
#805    SingleChildWidgetElementMixin.mount (package:nested/nested.dart:222:11)
...     Normal element mounting (7 frames)
#812    Element.inflateWidget (package:flutter/src/widgets/framework.dart:4590:20)
#813    Element.updateChild (package:flutter/src/widgets/framework.dart:4053:20)
#814    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#815    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#816    ProxyElement.update (package:flutter/src/widgets/framework.dart:6152:5)
#817    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#818    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#819    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#820    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5985:11)
#821    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#822    StatefulElement.update (package:flutter/src/widgets/framework.dart:6010:5)
#823    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#824    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#825    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#826    ProxyElement.update (package:flutter/src/widgets/framework.dart:6152:5)
#827    _InheritedNotifierElement.update (package:flutter/src/widgets/inherited_notifier.dart:108:11)
#828    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#829    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#830    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5985:11)
#831    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#832    StatefulElement.update (package:flutter/src/widgets/framework.dart:6010:5)
#833    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#834    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#835    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5985:11)
#836    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#837    StatefulElement.update (package:flutter/src/widgets/framework.dart:6010:5)
#838    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#839    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#840    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#841    ProxyElement.update (package:flutter/src/widgets/framework.dart:6152:5)
#842    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#843    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#844    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5985:11)
#845    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#846    StatefulElement.update (package:flutter/src/widgets/framework.dart:6010:5)
#847    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#848    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#849    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#850    ProxyElement.update (package:flutter/src/widgets/framework.dart:6152:5)
#851    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#852    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#853    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#854    ProxyElement.update (package:flutter/src/widgets/framework.dart:6152:5)
#855    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#856    _RawViewElement._updateChild (package:flutter/src/widgets/view.dart:481:16)
#857    _RawViewElement.update (package:flutter/src/widgets/view.dart:568:5)
#858    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#859    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#860    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#861    StatelessElement.update (package:flutter/src/widgets/framework.dart:5898:5)
#862    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#863    ComponentElement.performRebuild (package:flutter/src/widgets/framework.dart:5844:16)
#864    StatefulElement.performRebuild (package:flutter/src/widgets/framework.dart:5985:11)
#865    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#866    StatefulElement.update (package:flutter/src/widgets/framework.dart:6010:5)
#867    Element.updateChild (package:flutter/src/widgets/framework.dart:4037:15)
#868    RootElement._rebuild (package:flutter/src/widgets/binding.dart:1782:16)
#869    RootElement.update (package:flutter/src/widgets/binding.dart:1760:5)
#870    RootElement.performRebuild (package:flutter/src/widgets/binding.dart:1774:7)
#871    Element.rebuild (package:flutter/src/widgets/framework.dart:5532:7)
#872    BuildScope._tryRebuild (package:flutter/src/widgets/framework.dart:2750:15)
#873    BuildScope._flushDirtyElements (package:flutter/src/widgets/framework.dart:2807:11)
#874    BuildOwner.buildScope (package:flutter/src/widgets/framework.dart:3111:18)
#875    AutomatedTestWidgetsFlutterBinding.drawFrame (package:flutter_test/src/binding.dart:1506:19)
#876    RendererBinding._handlePersistentFrameCallback (package:flutter/src/rendering/binding.dart:495:5)
#877    SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#878    SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1347:9)
#879    AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#882    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#883    AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#884    WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#887    TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#888    WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#889    main.<anonymous closure> (file:///home/sam/Projects/wordlearn/flutter/test/widget_test.dart:96:18)
#890    testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#891    TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following _TypeError was thrown running a test:
type 'Null' is not a subtype of type 'Future<Map<String, dynamic>>'

When the exception was thrown, this was the stack:
#0      MockStatisticsRepository.checkDailyBonus (file:///home/sam/Projects/wordlearn/flutter/test/widget_test.dart:63:7)
#1      _HomeScreenState._checkDailyBonus (package:word_learn_app/ui/home_screen.dart:43:32)
#2      _HomeScreenState.initState.<anonymous closure> (package:word_learn_app/ui/home_screen.dart:38:57)
#3      SchedulerBinding._invokeFrameCallback (package:flutter/src/scheduler/binding.dart:1434:15)
#4      SchedulerBinding.handleDrawFrame (package:flutter/src/scheduler/binding.dart:1361:11)
#5      AutomatedTestWidgetsFlutterBinding.pump.<anonymous closure> (package:flutter_test/src/binding.dart:1335:9)
#8      TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#9      AutomatedTestWidgetsFlutterBinding.pump (package:flutter_test/src/binding.dart:1324:27)
#10     WidgetTester.pumpWidget.<anonymous closure> (package:flutter_test/src/widget_tester.dart:598:22)
#13     TestAsyncUtils.guard (package:flutter_test/src/test_async_utils.dart:74:41)
#14     WidgetTester.pumpWidget (package:flutter_test/src/widget_tester.dart:595:27)
#15     main.<anonymous closure> (file:///home/sam/Projects/wordlearn/flutter/test/widget_test.dart:96:18)
#16     testWidgets.<anonymous closure>.<anonymous closure> (package:flutter_test/src/widget_tester.dart:192:29)
<asynchronous suspension>
#17     TestWidgetsFlutterBinding._runTestBody (package:flutter_test/src/binding.dart:1059:5)
<asynchronous suspension>
<asynchronous suspension>
(elided 5 frames from dart:async and package:stack_trace)

The test description was:
  Counter increments smoke test
════════════════════════════════════════════════════════════════════════════════════════════════════
══╡ EXCEPTION CAUGHT BY FLUTTER TEST FRAMEWORK ╞════════════════════════════════════════════════════
The following message was thrown:
Multiple exceptions (2) were detected during the running of the current test, and at least one was
unexpected.
════════════════════════════════════════════════════════════════════════════════════════════════════
00:07 +0 -1: Counter increments smoke test [E]                                                                                                                                                         
  Test failed. See exception logs above.
  The test description was: Counter increments smoke test
  

To run this test again: /home/sam/snap/flutter/common/flutter/bin/cache/dart-sdk/bin/dart test /home/sam/Projects/wordlearn/flutter/test/widget_test.dart -p vm --plain-name 'Counter increments smoke test'
00:07 +0 -1: Some tests failed.                                                                                                                                                                        
